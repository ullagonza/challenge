{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gonzalofernan/dev/challenge/components/Products.js\";\nimport React, { Component } from 'react';\nimport LazyLoad from 'react-lazy-load';\nimport Header from '../components/Header';\nimport Link from 'next/link';\nimport { TweenLite } from 'gsap';\n\nvar Products =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Products, _Component);\n\n  function Products(props) {\n    var _this;\n\n    _classCallCheck(this, Products);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Products).call(this, props));\n    _this.redeem = _this.redeem.bind(_assertThisInitialized(_this));\n    _this.sortMostRecent = _this.sortMostRecent.bind(_assertThisInitialized(_this));\n    _this.sortLowestCost = _this.sortLowestCost.bind(_assertThisInitialized(_this));\n    _this.sortHighestCost = _this.sortHighestCost.bind(_assertThisInitialized(_this));\n    _this.state = {\n      buttonPressed1: false,\n      buttonPressed2: false,\n      buttonPressed3: false,\n      currentCost: 0,\n      isTop: true,\n      loading: true,\n      isLowestPrice: false,\n      isHigherPrice: false,\n      isProductsOriginal: false,\n      loaded: false,\n      'products': []\n    };\n    return _this;\n  }\n\n  _createClass(Products, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var response, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('https://coding-challenge-api.aerolab.co/products', {\n                  headers: new Headers({\n                    Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZDFkMmY4NzM2ZjEyNTAwNmZmOWIzZTAiLCJpYXQiOjE1NjIxOTM3OTl9.QaUDZ3qJA5FMwz0ThhGWoIxJ8pFpZv9I00XZM40PORc\"\n                  })\n                });\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                data = _context.sent;\n                this.setState({\n                  'products': data,\n                  loading: false\n                }); // Detect when scrolled through banner\n\n                document.addEventListener('scroll', function () {\n                  var isTop = window.scrollY < document.getElementById('banner').offsetHeight;\n\n                  if (isTop !== _this2.state.isTop) {\n                    _this2.setState({\n                      isTop: isTop\n                    });\n                  }\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"sortMostRecent\",\n    //Sort products from most recent creation date\n    value: function sortMostRecent() {\n      var products = this.state.products;\n      var newProducts = products;\n\n      if (!this.state.isLowestPrice) {\n        newProducts = products.sort(function (a, b) {\n          return a._id.localeCompare(b._id);\n        });\n      }\n\n      this.setState({\n        products: newProducts\n      });\n      this.setState({\n        buttonPressed1: true,\n        buttonPressed2: false,\n        buttonPressed3: false\n      }); //Scroll top\n\n      var element = document.getElementById(\"label\");\n      var headerOffset = 290;\n      var elementPosition = element.getBoundingClientRect().top;\n      var offsetPosition = elementPosition - headerOffset;\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: \"smooth\"\n      });\n    }\n  }, {\n    key: \"sortLowestCost\",\n    //Sort products from lowest cost to highest\n    value: function sortLowestCost() {\n      var products = this.state.products;\n      var newProducts = products;\n\n      if (!this.state.isLowestPrice) {\n        newProducts = products.sort(function (a, b) {\n          return a.cost - b.cost;\n        });\n      }\n\n      this.setState({\n        products: newProducts\n      });\n      this.setState({\n        buttonPressed1: false,\n        buttonPressed2: true,\n        buttonPressed3: false\n      }); //Scroll top\n\n      var element = document.getElementById(\"label\");\n      var headerOffset = 290;\n      var elementPosition = element.getBoundingClientRect().top;\n      var offsetPosition = elementPosition - headerOffset;\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: \"smooth\"\n      });\n    }\n  }, {\n    key: \"sortHighestCost\",\n    //Sort products from highest cost to lowest\n    value: function sortHighestCost() {\n      var products = this.state.products;\n      var newProducts = products;\n\n      if (!this.state.isLowestPrice) {\n        newProducts = products.sort(function (a, b) {\n          return b.cost - a.cost;\n        });\n      }\n\n      this.setState({\n        products: newProducts\n      });\n      this.setState({\n        buttonPressed1: false,\n        buttonPressed2: false,\n        buttonPressed3: true\n      }); //Scroll top\n\n      var element = document.getElementById(\"label\");\n      var headerOffset = 290;\n      var elementPosition = element.getBoundingClientRect().top;\n      var offsetPosition = elementPosition - headerOffset;\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: \"smooth\"\n      });\n    }\n  }, {\n    key: \"showLabel\",\n    //revealLabel\n    value: function showLabel(product, cost) {\n      document.getElementById(\"product\").innerHTML = product;\n      document.getElementById(\"cost\").innerHTML = cost;\n      document.getElementById('label').classList.add('label--show'); //Updates current product cost\n\n      this.setState({\n        currentCost: cost\n      });\n    }\n  }, {\n    key: \"removeLabel\",\n    //RemoveLabel\n    value: function removeLabel() {\n      document.getElementById('label').classList.remove('label--show');\n    }\n  }, {\n    key: \"redeem\",\n    value: function redeem() {\n      if (this.props.points - this.state.currentCost >= 0) {\n        document.getElementById('label').classList.add('label--show');\n        this.removeLabel(); //Apply countdown in GSAP\n\n        var Cont = {\n          val: this.props.points\n        },\n            NewVal = this.props.points - this.state.currentCost;\n        TweenLite.to(Cont, 2, {\n          val: NewVal,\n          roundProps: \"val\",\n          onUpdate: function onUpdate() {\n            document.getElementById(\"counter\").innerHTML = Cont.val;\n          }\n        });\n        TweenLite.to('#counterContainer', 2, {\n          background: \"linear-gradient(#25BBF1, #0AD4FA)\",\n          ease: Power3.easeIn\n        });\n        TweenLite.to('#counter', 0, {\n          color: \"#fff\",\n          ease: Power3.easeIn\n        });\n        TweenLite.to('#counterContainer', 2, {\n          delay: 2,\n          background: \"#EDEDED\",\n          ease: Power3.easeIn\n        });\n        TweenLite.to('#counter', 0, {\n          delay: 2,\n          color: \"#616161\",\n          ease: Power3.easeIn\n        });\n        this.props.action(this.props.points - this.state.currentCost);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //Redeem\n      var points = this.props.points;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"label\",\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"label__left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"label__left__text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"You are about to redeem \", React.createElement(\"span\", {\n        id: \"product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), \" for \", React.createElement(\"span\", {\n        id: \"cost\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"label__left__image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"../static/img/coin.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"label__right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.removeLabel,\n        className: \"label__right__cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"div\", {\n        onClick: this.redeem,\n        className: \"label__right__redeem\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Redeem now\"))), React.createElement(\"div\", {\n        className: \"outer-sortbar\" + ' ' + \"outer-sortbar--\" + (this.state.isTop ? 'normal' : 'fixed'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sortbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sortbar__title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Sort by:\"), React.createElement(\"div\", {\n        className: \"sortbar__buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.sortMostRecent,\n        className: this.state.buttonPressed1 ? \"sortbar__buttons__button sortbar__buttons__button--isactive\" : \"sortbar__buttons__button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Most recent\"), React.createElement(\"div\", {\n        onClick: this.sortLowestCost,\n        className: this.state.buttonPressed2 ? \"sortbar__buttons__button sortbar__buttons__button--isactive\" : \"sortbar__buttons__button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Lowest price\"), React.createElement(\"div\", {\n        onClick: this.sortHighestCost,\n        className: this.state.buttonPressed3 ? \"sortbar__buttons__button sortbar__buttons__button--isactive\" : \"sortbar__buttons__button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Highest price\")))), React.createElement(\"div\", {\n        className: \"grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, this.state.products.map(function (item, index) {\n        var _this3 = this;\n\n        if (item.cost <= points) {\n          return React.createElement(LazyLoad, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: this.state.loaded ? \"grid__item grid__item--loaded\" : \"grid__item\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__overlay\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, React.createElement(\"svg\", {\n            width: \"42px\",\n            height: \"42px\",\n            viewBox: \"0 0 42 42\",\n            version: \"1.1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192\n            },\n            __self: this\n          }, React.createElement(\"defs\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, React.createElement(\"radialGradient\", {\n            cx: \"50%\",\n            cy: \"50.8764901%\",\n            fx: \"50%\",\n            fy: \"50.8764901%\",\n            r: \"79.8469947%\",\n            id: \"radialGradient-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, React.createElement(\"stop\", {\n            \"stop-color\": \"#0AD4FA\",\n            offset: \"0%\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }), React.createElement(\"stop\", {\n            \"stop-color\": \"#25BBF1\",\n            offset: \"100%\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }))), React.createElement(\"g\", {\n            id: \"Catalog\",\n            stroke: \"none\",\n            \"stroke-width\": \"1\",\n            fill: \"none\",\n            \"fill-rule\": \"evenodd\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, React.createElement(\"g\", {\n            id: \"Page-1\",\n            transform: \"translate(-354.000000, -684.000000)\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          }, React.createElement(\"g\", {\n            id: \"products\",\n            transform: \"translate(132.000000, 660.000000)\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, React.createElement(\"g\", {\n            id: \"line-1\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, React.createElement(\"g\", {\n            id: \"product-card\",\n            transform: \"translate(0.000000, 12.000000)\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, React.createElement(\"g\", {\n            id: \"icon\",\n            transform: \"translate(222.000000, 12.000000)\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, React.createElement(\"circle\", {\n            id: \"circle\",\n            fill: \"url(#radialGradient-1)\",\n            cx: \"21\",\n            cy: \"21\",\n            r: \"21\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          }), React.createElement(\"path\", {\n            d: \"M29.9946924,29.1076172 L28.8822001,15.5306936 C28.8580225,15.225303 28.594495,14.9894436 28.277518,14.9894436 L25.2452125,14.9894436 L25.2452125,13.9296875 C25.2452125,12.3142578 23.8849203,11 22.2129071,11 L19.7870627,11 C18.1150494,11 16.7547572,12.3142578 16.7547572,13.9296875 L16.7547572,14.9894436 L13.7224518,14.9894436 C13.4054748,14.9894436 13.1419472,15.225303 13.1177696,15.5306936 L12.0053178,29.1073828 C11.9665447,29.5939844 12.1411651,30.0784375 12.4843816,30.4365234 C12.8275982,30.7946094 13.3141821,31 13.8193238,31 L28.1806055,31 C28.6857472,31 29.1722907,30.7946484 29.5155477,30.4365625 C29.8588046,30.0784766 30.033425,29.5940234 29.9946924,29.1076172 Z M18,14.25 C18,13.00935 18.80748,12 19.8,12 L22.2,12 C23.19252,12 24,13.00935 24,14.25 L24,15 L18,15 L18,14.25 Z\",\n            id: \"bag\",\n            fill: \"#FFFFFF\",\n            \"fill-rule\": \"nonzero\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          })))))))), React.createElement(\"div\", {\n            className: \"grid__item__overlay__cost\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__overlay__cost__number\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          }, item.cost), React.createElement(\"div\", {\n            className: \"grid__item__overlay__cost__coin\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: \"../static/img/coin.svg\",\n            onLoad: function onLoad() {\n              return _this3.setState({\n                loaded: true\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            onClick: function onClick() {\n              _this3.showLabel(item.name, item.cost);\n            },\n            className: \"grid__item__overlay__button\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 223\n            },\n            __self: this\n          }, \"Redeem prize\")), React.createElement(\"div\", {\n            className: \"grid__item__image\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: item.img.url,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"grid__item__data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 228\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__data__cat\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          }, item.category), React.createElement(\"div\", {\n            className: \"grid__item__data__name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }, item.name))));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"grid__item grid__item--unaffordable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 238\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__overlay\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__overlay__info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__overlay__info__text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241\n            },\n            __self: this\n          }, \"You need \", -(points - item.cost)), React.createElement(\"div\", {\n            className: \"grid__item__overlay__info__coin\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: \"../static/img/coin.svg\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242\n            },\n            __self: this\n          })))), React.createElement(\"div\", {\n            className: \"grid__item__image\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 246\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: item.img.url,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 247\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"grid__item__data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"grid__item__data__cat\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 250\n            },\n            __self: this\n          }, item.category), React.createElement(\"div\", {\n            className: \"grid__item__data__name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 251\n            },\n            __self: this\n          }, item.name)));\n        }\n      }, this)), React.createElement(\"p\", {\n        className: \"grid__message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Showing \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, document.getElementsByClassName('.grid__item--loaded').length), \" awesome products\"));\n    }\n  }]);\n\n  return Products;\n}(Component);\n\nexport default Products;","map":{"version":3,"sources":["/Users/gonzalofernan/dev/challenge/components/Products.js"],"names":["React","Component","LazyLoad","Header","Link","TweenLite","Products","props","redeem","bind","sortMostRecent","sortLowestCost","sortHighestCost","state","buttonPressed1","buttonPressed2","buttonPressed3","currentCost","isTop","loading","isLowestPrice","isHigherPrice","isProductsOriginal","loaded","fetch","headers","Headers","Authorization","response","json","data","setState","document","addEventListener","window","scrollY","getElementById","offsetHeight","products","newProducts","sort","a","b","_id","localeCompare","element","headerOffset","elementPosition","getBoundingClientRect","top","offsetPosition","scrollTo","behavior","cost","product","innerHTML","classList","add","remove","points","removeLabel","Cont","val","NewVal","to","roundProps","onUpdate","background","ease","Power3","easeIn","color","delay","action","map","item","index","showLabel","name","img","url","category","getElementsByClassName","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport LazyLoad from 'react-lazy-load';\nimport Header from '../components/Header'\nimport Link from 'next/link'\nimport {TweenLite} from 'gsap'\nclass Products extends Component {\n  constructor (props) {\n    super(props)\n    this.redeem = this.redeem.bind(this);\n    this.sortMostRecent = this.sortMostRecent.bind(this);\n    this.sortLowestCost = this.sortLowestCost.bind(this);\n    this.sortHighestCost = this.sortHighestCost.bind(this);\n    this.state = {\n     buttonPressed1: false,\n     buttonPressed2: false,\n     buttonPressed3: false,\n     currentCost: 0, \n     isTop: true,\n     loading: true,\n     isLowestPrice: false,\n     isHigherPrice: false,\n     isProductsOriginal: false,\n     loaded: false,\n     'products': [],\n    }\n  }\n\n  async componentDidMount() {\n    const response = await fetch('https://coding-challenge-api.aerolab.co/products', {\n         headers: new Headers({\n         Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZDFkMmY4NzM2ZjEyNTAwNmZmOWIzZTAiLCJpYXQiOjE1NjIxOTM3OTl9.QaUDZ3qJA5FMwz0ThhGWoIxJ8pFpZv9I00XZM40PORc\",\n      })\n    })\n    const data = await response.json();\n    this.setState({ 'products': data, loading: false });\n    // Detect when scrolled through banner\n    document.addEventListener('scroll', () => {\n      const isTop = window.scrollY < document.getElementById('banner').offsetHeight;\n      if (isTop !== this.state.isTop) {\n          this.setState({ isTop })\n      }\n    });\n \n  };\n  //Sort products from most recent creation date\n  sortMostRecent () {\n    const {products} = this.state\n    let newProducts = products\n    if (! this.state.isLowestPrice) {\n      newProducts = products.sort((a, b) => a._id.localeCompare(b._id))\n    }\n    this.setState({\n      products: newProducts\n    });\n    this.setState({\n      buttonPressed1: true,\n      buttonPressed2: false,\n      buttonPressed3: false\n    });\n    //Scroll top\n    let element = document.getElementById(\"label\");\n    var headerOffset = 290;\n    var elementPosition = element.getBoundingClientRect().top;\n    var offsetPosition = elementPosition - headerOffset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: \"smooth\"\n    });\n  };\n\n  //Sort products from lowest cost to highest\n  sortLowestCost () {\n    const {products} = this.state\n    let newProducts = products\n    if (! this.state.isLowestPrice) {\n      newProducts = products.sort((a, b) => a.cost - b.cost)\n    }\n    this.setState({\n      products: newProducts\n    });\n    this.setState({\n      buttonPressed1: false,\n      buttonPressed2: true,\n      buttonPressed3: false\n    });\n    //Scroll top\n    let element = document.getElementById(\"label\");\n    var headerOffset = 290;\n    var elementPosition = element.getBoundingClientRect().top;\n    var offsetPosition = elementPosition - headerOffset;\n    window.scrollTo({\n         top: offsetPosition,\n         behavior: \"smooth\"\n    });\n  };\n  \n  //Sort products from highest cost to lowest\n  sortHighestCost () {\n    const {products} = this.state\n    let newProducts = products\n    if (! this.state.isLowestPrice) {\n      newProducts = products.sort((a, b) => b.cost - a.cost)\n    }\n    this.setState({\n      products: newProducts\n    });\n    this.setState({\n      buttonPressed1: false,\n      buttonPressed2: false,\n      buttonPressed3: true\n    });\n    //Scroll top\n    let element = document.getElementById(\"label\");\n    var headerOffset = 290;\n    var elementPosition = element.getBoundingClientRect().top;\n    var offsetPosition = elementPosition - headerOffset;\n    window.scrollTo({\n         top: offsetPosition,\n         behavior: \"smooth\"\n    });\n    \n  };\n  \n  //revealLabel\n  showLabel (product, cost) {\n    document.getElementById(\"product\").innerHTML = product;\n    document.getElementById(\"cost\").innerHTML = cost;\n    document.getElementById('label').classList.add('label--show');\n    //Updates current product cost\n    this.setState({\n      currentCost: cost\n    });\n  };\n   //RemoveLabel\n   removeLabel () {\n    document.getElementById('label').classList.remove('label--show');\n  };\n  \n  redeem (){\n    if(( (this.props.points) - (this.state.currentCost)) >=0){\n      document.getElementById('label').classList.add('label--show');\n      this.removeLabel()\n      \n      //Apply countdown in GSAP\n      var Cont={val:(this.props.points)} , NewVal = ((this.props.points) - (this.state.currentCost)) ;\n      TweenLite.to(Cont,2 ,{val:NewVal,roundProps:\"val\",onUpdate:function(){\n        document.getElementById(\"counter\").innerHTML=Cont.val\n      }});\n      TweenLite.to('#counterContainer', 2, { background: \"linear-gradient(#25BBF1, #0AD4FA)\", ease: Power3.easeIn });\n      TweenLite.to('#counter', 0, { color: \"#fff\", ease: Power3.easeIn });\n      TweenLite.to('#counterContainer', 2, {delay:2, background: \"#EDEDED\", ease: Power3.easeIn });\n      TweenLite.to('#counter', 0, { delay:2,color: \"#616161\", ease: Power3.easeIn });\n\n      this.props.action((this.props.points) - (this.state.currentCost))\n    }\n  };\n  \n  render () {\n    //Redeem\n    var points = this.props.points;\n    return (\n      <div>\n          <div id=\"label\" className=\"label\">\n            <div className=\"label__left\">\n              <div className=\"label__left__text\">You are about to redeem <span id=\"product\"></span> for <span id=\"cost\"></span></div> \n              <div className=\"label__left__image\">\n                <img src=\"../static/img/coin.svg\" />\n              </div> \n            </div>\n            <div className=\"label__right\">\n              <div onClick={this.removeLabel} className=\"label__right__cancel\">Cancel</div>\n              <div onClick={this.redeem} className=\"label__right__redeem\">Redeem now</div>\n            </div>\n          </div>\n          <div className={\"outer-sortbar\"+ ' ' +\"outer-sortbar--\"+(this.state.isTop ? 'normal' : 'fixed')}>\n          <div className=\"sortbar\">\n          <div className=\"sortbar__title\">Sort by:</div>\n          <div className=\"sortbar__buttons\">\n            <div onClick={this.sortMostRecent} className={this.state.buttonPressed1 ? \"sortbar__buttons__button sortbar__buttons__button--isactive\" : \"sortbar__buttons__button\"}>Most recent</div>\n            <div onClick={this.sortLowestCost} className={this.state.buttonPressed2 ? \"sortbar__buttons__button sortbar__buttons__button--isactive\" : \"sortbar__buttons__button\"}>Lowest price</div>\n            <div onClick={this.sortHighestCost} className={this.state.buttonPressed3 ? \"sortbar__buttons__button sortbar__buttons__button--isactive\" : \"sortbar__buttons__button\"}>Highest price</div>\n          </div>\n      </div>\n      </div>\n      <div className=\"grid\">\n        {this.state.products.map(function(item, index) {\n            if (item.cost <= points){\n              return(\n                <LazyLoad>\n                <div className={this.state.loaded ? \"grid__item grid__item--loaded\" : \"grid__item\"}>\n                  <div className=\"grid__item__overlay\">\n                  <svg width=\"42px\" height=\"42px\" viewBox=\"0 0 42 42\" version=\"1.1\">\n                      <defs>\n                          <radialGradient cx=\"50%\" cy=\"50.8764901%\" fx=\"50%\" fy=\"50.8764901%\" r=\"79.8469947%\" id=\"radialGradient-1\">\n                              <stop stop-color=\"#0AD4FA\" offset=\"0%\"></stop>\n                              <stop stop-color=\"#25BBF1\" offset=\"100%\"></stop>\n                          </radialGradient>\n                      </defs>\n                      <g id=\"Catalog\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                          <g id=\"Page-1\" transform=\"translate(-354.000000, -684.000000)\">\n                              <g id=\"products\" transform=\"translate(132.000000, 660.000000)\">\n                                  <g id=\"line-1\">\n                                      <g id=\"product-card\" transform=\"translate(0.000000, 12.000000)\">\n                                          <g id=\"icon\" transform=\"translate(222.000000, 12.000000)\">\n                                              <circle id=\"circle\" fill=\"url(#radialGradient-1)\" cx=\"21\" cy=\"21\" r=\"21\"></circle>\n                                              <path d=\"M29.9946924,29.1076172 L28.8822001,15.5306936 C28.8580225,15.225303 28.594495,14.9894436 28.277518,14.9894436 L25.2452125,14.9894436 L25.2452125,13.9296875 C25.2452125,12.3142578 23.8849203,11 22.2129071,11 L19.7870627,11 C18.1150494,11 16.7547572,12.3142578 16.7547572,13.9296875 L16.7547572,14.9894436 L13.7224518,14.9894436 C13.4054748,14.9894436 13.1419472,15.225303 13.1177696,15.5306936 L12.0053178,29.1073828 C11.9665447,29.5939844 12.1411651,30.0784375 12.4843816,30.4365234 C12.8275982,30.7946094 13.3141821,31 13.8193238,31 L28.1806055,31 C28.6857472,31 29.1722907,30.7946484 29.5155477,30.4365625 C29.8588046,30.0784766 30.033425,29.5940234 29.9946924,29.1076172 Z M18,14.25 C18,13.00935 18.80748,12 19.8,12 L22.2,12 C23.19252,12 24,13.00935 24,14.25 L24,15 L18,15 L18,14.25 Z\" id=\"bag\" fill=\"#FFFFFF\" fill-rule=\"nonzero\"></path>\n                                          </g>\n                                      </g>\n                                  </g>\n                              </g>\n                          </g>\n                      </g>\n                  </svg>\n                  <div className=\"grid__item__overlay__cost\">\n                    <div className=\"grid__item__overlay__cost__number\">{item.cost}</div>\n                    <div className=\"grid__item__overlay__cost__coin\">\n                      <img \n                      src=\"../static/img/coin.svg\" \n                      onLoad={() => this.setState({loaded: true})}\n                      /> \n                    </div>\n                  </div>\n                  <div onClick={() => { this.showLabel(item.name, item.cost) }}className=\"grid__item__overlay__button\">Redeem prize</div>\n                  </div>\n                  <div className=\"grid__item__image\">\n                    <img src={item.img.url} />\n                  </div>\n                  <div className=\"grid__item__data\">\n                    <div className=\"grid__item__data__cat\">{item.category}</div>\n                    <div className=\"grid__item__data__name\">{item.name}</div>\n                  </div>  \n                </div>\n                </LazyLoad>\n            )\n            }\n            else{\n              return(\n                <div className=\"grid__item grid__item--unaffordable\">\n                  <div className=\"grid__item__overlay\">\n                  <div className=\"grid__item__overlay__info\">\n                    <div className=\"grid__item__overlay__info__text\">You need {-(points - item.cost)}</div>\n                    <div className=\"grid__item__overlay__info__coin\"><img src=\"../static/img/coin.svg\" /></div>\n                  </div>\n                  \n                  </div>\n                  <div className=\"grid__item__image\">\n                    <img src={item.img.url} />\n                  </div>\n                  <div className=\"grid__item__data\">\n                    <div className=\"grid__item__data__cat\">{item.category}</div>\n                    <div className=\"grid__item__data__name\">{item.name}</div>\n                  </div>  \n                </div>\n            )\n            }\n        }, this)}\n      </div>\n        <p className=\"grid__message\">Showing <span>{document.getElementsByClassName('.grid__item--loaded').length}</span> awesome products</p>\n      </div>\n    )\n  }\n}\n\nexport default Products\n"]},"metadata":{},"sourceType":"module"}